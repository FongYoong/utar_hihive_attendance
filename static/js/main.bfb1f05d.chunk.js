(this["webpackJsonphihive-attendance-web"]=this["webpackJsonphihive-attendance-web"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,241)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},c=a(0),r=a.n(c),i=a(11),s=a.n(i),l=a(79),o=a.n(l),j=a(80),d=a(27);var b=a(197),u=a(202),h=a(203),O=a(67),x=a(17),p=a(201),g=a(200),m=a(239),f=a(199),v=a(206),y=a(82),w=a.n(y),T=a(30),C=a(4),k=Object(b.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},githubButton:{marginRight:e.spacing(0)}}}));function N(e){var t=e.children,a=e.window,n=Object(f.a)({target:a?a():void 0});return Object(C.jsx)(g.a,{appear:!1,direction:"down",in:!n,children:t})}var S=function(e){var t=e.title,a=k(),n=Object(p.a)(Object(x.a)().breakpoints.down("sm"));return Object(C.jsxs)("div",{className:a.root,children:[Object(C.jsx)(N,{children:Object(C.jsx)(u.a,{style:{background:"#e8ab05"},children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)(m.a,{arrow:!0,title:"GitHub",placement:"bottom",children:Object(C.jsx)(v.a,{rel:"noopener noreferrer",href:"https://github.com/FongYoong/utar_hihive_attendance",target:"_blank",edge:"start",className:a.githubButton,color:"inherit","aria-label":"GitHub",children:Object(C.jsx)(w.a,{})})}),Object(C.jsx)(T.a,{triggerOnce:!0,children:Object(C.jsx)(O.a,{variant:"h5",className:a.title,noWrap:!n,children:t})})]})})}),Object(C.jsx)(h.a,{})]})},A=a(83),I=a.n(A),P=a(95),F=a(207),E=a(208),D=a(216),L=a(217),H=a(234),_=a(215),B=a(212),G=a(84),R=a.n(G),W=a(213),z=a(214),J=a(85),K=a.n(J),U=a(236),Z=a(211),V=a(235),Y=a(231),$=a(218),q=a(237),M=a(219),Q=a(220),X=a(222),ee=a(224),te=a(225),ae=a(221),ne=a(223),ce=a(86),re=a.n(ce),ie=a(87),se=a.n(ie),le=Object(b.a)((function(e){return{paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.primary,margin:e.spacing(1)},container:{"& > *":{margin:e.spacing(1)}},formControl:{margin:e.spacing(1),minWidth:120}}}));var oe=function(){Object(c.useEffect)((function(){document.title="UTAR Hi-Hive Attendance"}));var e=le(),t=Object(p.a)(Object(x.a)().breakpoints.down("sm")),a=localStorage.getItem("email"),n=Object(c.useState)(a||""),r=Object(d.a)(n,2),i=r[0],s=r[1],l=!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(i),o=Object(c.useState)(!1),b=Object(d.a)(o,2),u=b[0],h=b[1],g=Object(c.useState)(!1),m=Object(d.a)(g,2),f=m[0],v=m[1],y=Object(c.useState)(""),w=Object(d.a)(y,2),k=w[0],N=w[1],A=Object(c.useState)([]),G=Object(d.a)(A,2),J=G[0],ce=G[1],ie=Object(c.useState)({}),oe=Object(d.a)(ie,2),je=oe[0],de=oe[1],be=Object(c.useState)(0),ue=Object(d.a)(be,2),he=ue[0],Oe=ue[1],xe=Object(c.useState)((function(){return["lecture","tutorial","practical"]})),pe=Object(d.a)(xe,2),ge=pe[0],me=pe[1],fe=function(){l||(h(!0),I.a.get("https://www.silverlakemobility.com/plugins/WebPlugIn?type=201&email=".concat(i)).then((function(e){!function(e){if("0:*:No record found !"===e)v(!0);else{v(!1),localStorage.setItem("email",i);var t=e.split(":*:").slice(1).map((function(e){return e.split(":**:").map((function(e){return e.split(":***:").map((function(e){return e.split(":-:")}))}))})),a=t[0][0][0];a={id:a[0],name:a[1]},de(a);var n,c=Object(j.a)(t.entries());try{for(c.s();!(n=c.n()).done;){var r=Object(d.a)(n.value,2),s=r[0],l=r[1],o=l[0][0],b={name:o[2],attendedTotal:o[3],total:o[4],percentage:parseFloat(o[3])/parseFloat(o[4])*100},u=l[1].slice(0,-1).map((function(e){return{date:e[2].split(" ")[0],recordedTime:e[0].split(" ")[1],classTime:e[2].split(" ")[1].split(":").slice(0,-1).join(":"),classType:e[3],duration:e[4],group:e[5],lecturer:e[6],attended:"A"===e[7]||"N"===e[7]}}));t[s]={details:b,schedule:u}}}catch(O){c.e(O)}finally{c.f()}ce(t)}h(!1),N(e)}(e.data)})))};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{title:"UTAR Hi-Hive Attendance"}),Object(C.jsx)(P.a,{className:e.paper,children:Object(C.jsxs)(F.a,{className:e.container,children:[Object(C.jsx)("br",{}),Object(C.jsxs)(E.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justify:"center",children:[Object(C.jsx)(E.a,{item:!0,children:Object(C.jsx)(T.b,{duration:500,triggerOnce:!0,cascade:!0,children:Object(C.jsx)(H.a,{autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)},label:"Email",defaultValue:i,error:l,helperText:"*Data will NOT be stored or misused on other servers",variant:"outlined",InputProps:{startAdornment:Object(C.jsx)(B.a,{position:"start",children:Object(C.jsx)(R.a,{})})},onKeyPress:function(e){"Enter"===e.key&&fe()}})})}),Object(C.jsx)(E.a,{item:!0,children:Object(C.jsx)(T.b,{delay:200,duration:500,triggerOnce:!0,cascade:!0,children:Object(C.jsx)(W.a,{disabled:l||u,variant:"contained",color:"primary",endIcon:Object(C.jsx)(K.a,{}),onClick:fe,children:"Check Attendance"})})})]}),u&&Object(C.jsx)(z.a,{}),Object(C.jsx)(_.a,{}),Object(C.jsx)("br",{}),k.length>0&&(f||0===J.length)&&Object(C.jsxs)(T.a,{triggerOnce:!0,cascade:!0,children:[Object(C.jsx)(O.a,{variant:"h6",children:"No record found!"}),Object(C.jsx)("br",{})]}),!f&&J.length>0&&Object(C.jsx)(T.a,{triggerOnce:!0,cascade:!0,children:Object(C.jsxs)(E.a,{container:!0,spacing:3,direction:"column",alignItems:"center",justify:"center",children:[Object(C.jsx)(D.a,{className:e.card,children:Object(C.jsxs)(L.a,{className:e.cardContent,children:[Object(C.jsx)(O.a,{variant:"body1",children:je.name}),Object(C.jsxs)(O.a,{variant:"body1",children:["ID: ",je.id]})]})}),Object(C.jsx)(E.a,{item:!0,container:!0,spacing:2,direction:"row",alignItems:"center",justify:"center",children:Object(C.jsxs)(Z.a,{variant:"outlined",className:e.formControl,children:[Object(C.jsx)(V.a,{children:"Subject"}),Object(C.jsx)(Y.a,{value:he,onChange:function(e){Oe(parseInt(e.target.value))},label:"Subject",children:J.map((function(e,t){return Object(C.jsx)(U.a,{value:t,children:e.details.name},t)}))})]})}),Object(C.jsxs)(E.a,{item:!0,container:!0,spacing:2,direction:"row",alignItems:"center",justify:"center",children:[Object(C.jsx)(E.a,{item:!0,children:Object(C.jsx)(D.a,{className:e.card,children:Object(C.jsxs)(L.a,{className:e.cardContent,children:[Object(C.jsxs)(O.a,{variant:"body1",children:["Total hours attended: ",J[he].details.attendedTotal]}),Object(C.jsxs)(O.a,{variant:"body1",children:["Total hours: ",J[he].details.total]}),Object(C.jsxs)(O.a,{variant:"h6",children:["Percentage: ",J[he].details.percentage.toFixed(2)]})]})})}),Object(C.jsx)(E.a,{item:!0,children:Object(C.jsxs)(q.a,{size:t?"small":"medium",value:ge,onChange:function(e,t){return me(t)},children:[Object(C.jsx)($.a,{value:"absent",children:ge.includes("absent")?"Absent \u2713":"Absent"}),Object(C.jsx)($.a,{value:"lecture",children:ge.includes("lecture")?"Lecture \u2713":"Lecture"}),Object(C.jsx)($.a,{value:"tutorial",children:ge.includes("tutorial")?"Tutorial \u2713":"Tutorial"}),Object(C.jsx)($.a,{value:"practical",children:ge.includes("practical")?"Practical \u2713":"Practical"})]})})]}),Object(C.jsx)(M.a,{align:"left",children:J[he].schedule.filter((function(e){if(ge.includes("absent")){if(e.attended)return!1;if(ge.includes("lecture")&&"Lecture"===e.classType)return!0;if(ge.includes("tutorial")&&"Tutorial"===e.classType)return!0;if(ge.includes("practical")&&"Practical"===e.classType)return!0}else{if(ge.includes("lecture")&&"Lecture"===e.classType)return!0;if(ge.includes("tutorial")&&"Tutorial"===e.classType)return!0;if(ge.includes("practical")&&"Practical"===e.classType)return!0}return!1})).slice().reverse().map((function(t,a){return Object(C.jsxs)(Q.a,{children:[Object(C.jsxs)(ae.a,{children:[Object(C.jsx)(_.a,{}),Object(C.jsx)(O.a,{variant:"body1",children:t.date}),Object(C.jsx)(O.a,{variant:"h6",children:t.classType}),Object(C.jsx)(O.a,{variant:"body1",children:t.classTime}),Object(C.jsxs)(O.a,{variant:"body1",children:["(",t.duration," ",t.duration>1?"hours":"hour",")"]}),Object(C.jsx)(O.a,{variant:"subtitle2",children:t.lecturer})]}),Object(C.jsxs)(X.a,{children:[Object(C.jsx)(ne.a,{color:t.attended?"primary":"secondary",variant:"outlined",children:t.attended?Object(C.jsx)(re.a,{style:{color:"green"}}):Object(C.jsx)(se.a,{style:{color:"red"}})}),Object(C.jsx)(ee.a,{style:{backgroundColor:t.attended?"green":"red"}})]}),Object(C.jsx)(te.a,{children:Object(C.jsx)(P.a,{elevation:3,className:e.paper,children:Object(C.jsxs)(O.a,{variant:"body2",children:["Scanned at: ",t.recordedTime,Object(C.jsx)("br",{})]})})})]},a)}))})]})})]})})]})},je=a(226),de=Object(b.a)((function(e){return{root:{flexGrow:1}}}));var be=function(){var e=de();return Object(C.jsxs)("div",{className:o.a.App,children:[Object(C.jsx)(je.a,{}),Object(C.jsx)(F.a,{children:Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(oe,{})})})]})},ue=a(88),he=a(89),Oe=a(92),xe=a(91),pe=a(93),ge=a(230),me=a(90),fe=a.n(me),ve=a(233),ye=a(228),we=a(229),Te=a(227),Ce=a.p+"static/media/sad.3dfb4ab6.png",ke=r.a.forwardRef((function(e,t){return Object(C.jsx)(g.a,Object(pe.a)({direction:"up",ref:t},e))})),Ne=function(e){Object(Oe.a)(a,e);var t=Object(xe.a)(a);function a(e){var n;return Object(ue.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(he.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"refreshPage",value:function(){window.location.reload()}},{key:"render",value:function(){return this.state.hasError?Object(C.jsxs)(ve.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,TransitionComponent:ke,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(Te.a,{id:"alert-dialog-title",children:"Something went wrong!"}),Object(C.jsxs)(ye.a,{children:[Object(C.jsx)(we.a,{id:"alert-dialog-description",children:"Oops, seemed like you successfully crashed the website."}),Object(C.jsx)(T.b,{duration:500,triggerOnce:!0,cascade:!0,children:Object(C.jsxs)(ge.a,{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(C.jsx)(ge.a,{mb:2,display:"flex",justifyContent:"center",width:"100%",children:Object(C.jsx)("img",{width:"50%",height:"auto",src:Ce,alt:"Feel the pain"})}),Object(C.jsx)(W.a,{variant:"contained",color:"primary",endIcon:Object(C.jsx)(fe.a,{}),onClick:this.refreshPage,children:"Refresh Page!"})]})})]})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component);a(146);console.log=function(){},s.a.render(Object(C.jsx)(Ne,{children:Object(C.jsx)(be,{})}),document.getElementById("root")),n()},79:function(e,t,a){e.exports={App:"App_App__3WWb8"}}},[[147,1,2]]]);
//# sourceMappingURL=main.bfb1f05d.chunk.js.map